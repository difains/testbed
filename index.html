<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>서울중앙교회 중고등부 출석부</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
</head>
<body>
    <!-- 로그인 화면 -->
    <div id="loginScreen" class="screen active">
        <div class="login-container">
            <h1>서울중앙교회 중고등부 출석부 시스템에 오신걸 환영합니다.</h1>
            <div class="login-form">
                <input type="text" id="loginId" placeholder="아이디" />
                <input type="password" id="loginPassword" placeholder="패스워드" />
                <button onclick="login()">로그인</button>
            </div>
        </div>
    </div>

    <!-- 메인 화면들 -->
    <div id="mainScreens" class="hidden">
        <!-- 헤더 -->
        <header>
            <h2 id="pageTitle">출석체크</h2>
            <div class="hamburger" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </header>

        <!-- 네비게이션 메뉴 -->
        <nav id="navMenu" class="nav-menu">
            <ul>
                <li><a href="#" onclick="showScreen('attendance')">출석체크</a></li>
                <li><a href="#" onclick="showScreen('dashboard')">대시보드</a></li>
                <li><a href="#" onclick="showScreen('studentReg')">학생 등록</a></li>
                <li><a href="#" onclick="showScreen('teacherReg')">선생님 등록</a></li>
                <li><a href="#" onclick="logout()">로그아웃</a></li>
            </ul>
        </nav>

        <!-- 출석체크 화면 -->
        <div id="attendanceScreen" class="screen active">
            <div class="tab-container">
                <button class="tab-btn active" onclick="switchTab('student')">학생</button>
                <button class="tab-btn" onclick="switchTab('teacher')">선생님</button>
            </div>
            
            <div id="studentTab" class="tab-content active">
                <div class="date-selector">
                    <input type="date" id="attendanceDate" />
                    <button onclick="loadAttendanceData()">불러오기</button>
                </div>
                <div id="studentAttendanceList"></div>
                <button class="save-btn" onclick="saveAttendance('student')">저장</button>
            </div>
            
            <div id="teacherTab" class="tab-content">
                <div class="date-selector">
                    <input type="date" id="teacherAttendanceDate" />
                    <button onclick="loadTeacherAttendanceData()">불러오기</button>
                </div>
                <div id="teacherAttendanceList"></div>
                <button class="save-btn" onclick="saveAttendance('teacher')">저장</button>
            </div>
        </div>

        <!-- 대시보드 화면 -->
        <div id="dashboardScreen" class="screen">
            <div class="dashboard-controls">
                <select id="dashboardPeriod">
                    <option value="year">년별</option>
                    <option value="month">월별</option>
                    <option value="week">주일별</option>
                </select>
                <input type="date" id="dashboardDate" />
                <button onclick="loadDashboard()">조회</button>
            </div>
            <div id="dashboardContent"></div>
        </div>

        <!-- 학생 등록 화면 -->
        <div id="studentRegScreen" class="screen">
            <form id="studentForm">
                <input type="text" name="name" placeholder="이름" required />
                <select name="grade">
                    <option value="">학년 선택</option>
                    <option value="중1">중1</option>
                    <option value="중2">중2</option>
                    <option value="중3">중3</option>
                    <option value="고1">고1</option>
                    <option value="고2">고2</option>
                    <option value="고3">고3</option>
                </select>
                <label><input type="checkbox" name="infantBaptism" /> 유아세례</label>
                <label><input type="checkbox" name="baptism" /> 세례</label>
                <label><input type="checkbox" name="confirmation" /> 입교</label>
                <input type="tel" name="phone" placeholder="전화번호" />
                <input type="text" name="fatherName" placeholder="아버지 성함" />
                <input type="text" name="motherName" placeholder="어머니 성함" />
                <input type="tel" name="parentPhone" placeholder="부모님 대표 연락처" />
                <input type="date" name="registrationDate" placeholder="최초 등록일" />
                <button type="submit">등록</button>
            </form>
            <div id="studentList"></div>
        </div>

        <!-- 선생님 등록 화면 -->
        <div id="teacherRegScreen" class="screen">
            <form id="teacherForm">
                <input type="text" name="name" placeholder="이름" required />
                <input type="tel" name="phone" placeholder="전화번호" />
                <input type="text" name="district" placeholder="소속지회" />
                <input type="date" name="startDate" placeholder="중고등부 교사 섬김 시작일" />
                <button type="submit">등록</button>
            </form>
            <div id="teacherList"></div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
